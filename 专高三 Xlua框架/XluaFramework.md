XluaFramework是Xlua 的一个框架在GitHub上的一个框架,专高三我们主要学习它
1. 运行逻辑 
	 我们首先要知道这个框架是如何运行的.在框架中的Scene 文件夹下找到LaunchScene 场景,一般都是从这个场景中开始执行的.
	 ![[Pasted image 20240112152145.png]]这个脚本就是梦开始的脚本
	 小扩展!![[Pasted image 20240112152229.png]]这个空对象大大滴厉害,加入你在运行时按下鼠标在屏幕上转三圈,就会出现奇妙的东西
	 ![[Pasted image 20240112152353.png]]这样在我们打包后出现错误时我们也能直观的看到了.最关键的是这个脚本拉到哪个项目里面都能用!!! 而且我们的框架文件夹内还有好多小工具,比如说ProtoToCS,ProtoToLua,Excel2Json等
2. Xlua端
		接下来我们就来看一看Xlua 端能用到的一些脚本
		1. GameMain 
			这个脚本是一个全局的脚本主程序的入口就在其中,但在现在我们也会把一些全局的数据放在其中,![[Pasted image 20240112153237.png]]在这里我定义了两个方法一个是存数据一个是取数据,这样当我想要拿数据的时候我可以用GameMain:GetRole()直接获取到数据
			当然如果想让方法与类产生练习你要这样做![[Pasted image 20240112153415.png]]相当于这两个方法是数据GameMain的了
		2. Define 
			这个脚本中封装了一些Lua调c#的方法![[Pasted image 20240112153651.png]]
			这样封装好后就可以像在C# 中使用了
		3. Global 
			这里定义了一些全局的东西,你可以在任何地方调用他们,如果你想的话你也可以自己写数据在Global 里这样所有的脚本都能使用它
		4. Tools
			这并不是一个脚本,它unity 界面的上方,我们主要用它的生成MVC框架按钮,它会一键生成MVC是不是很厉害!!
			![[Pasted image 20240112154116.png]]
			打开后我们可以看到几个选项这里要注意UI名字这里要和你的预制体的名字一样不然会找不到预制体也就是会报错.你可以选择你要创建的MVC层级一般我们会全选.选择UILayers 这个是选择层级,在运行时框架会给你提供很多个层级,越往下的就会显示在上层,选完后点击CreatUILuaData 如果弹出窗口显示创建成功了就是创建成功了.
			这里注意了当我们创建完后要检查两个地方
			1. UIConfig 
				![[Pasted image 20240112155050.png]]看看这里有没有你刚才创建的预制体
			2. UIWindowNames
				![[Pasted image 20240112155121.png]]
				同样看一下又没有刚才创建的预制体
				当然这两个地方有一个方法可以快捷创建
				--AppendCode 在这两个地方添加后就可以动态的添加你想要的东西了.
			3.UIBaseComponent
				当我们创建完毕后,还要改一个地方
				![[Pasted image 20240112155418.png]]
				为什么要改这个地方呢我们可以看到我箭头指向的地方是预制体的名字,当我的预制体中有两个一样的名字是,就会报错,那我们如何解决这个问题呢,把这里的Self.__name 改成self.__var__arg__
				这样我们就不会存储预制体的名字,而是会存储预制体的地址,名字会重复而地址不会,这样就不会出问题了
				UIManager:GetInstance():OpenWindow(UIWindowNames.UILogin)
				这句代码就是生成预制体的代码,后面的名字可以自改
		5. 跳转场景
			1.SceneConfig 
			这里定义了框架中所有的场景,如果你想要添加场景那这一步必不可少,层级依次递加,名字就是你场景的名字
				![[Pasted image 20240112162308.png]]
			2. 创建好场景后,你还需要给这个场景添加脚本,可以直接赋值HomeScene场景脚本改一下名字来用
			3. 把脚本添加进框架
				 ![[Pasted image 20240112162854.png]]
				 依次添加就好
			4. 准备工作做好了后,我们就要跳转场景了
				SceneManager:GetInstance():SwitchScene(SceneConfig.LoginScene)
				只需要这一行代码就可以搞定了,SceneConfig.(你刚才定义的场景名字)
		6. 无限滑动列表
			1. Item 无限列表中很关键的一个脚本,
			![[Pasted image 20240207232208.png]]
			Refresh 函数可以自定义参数,注意继承的父类,写的时候直接复制view层的脚本来改代码就可以了.
			2. View脚本, 在定义完Item脚本后,我们需要在View中设置无限列表的时候使用它,首先引入Item脚本![[Pasted image 20240207232538.png]]
			其次获取Scroll 的Content组件,这里注意获取的数据类型是UIWrapoGroup,而不是刚才的继承的UIWrapCompont.![[Pasted image 20240207232725.png]]
			接下来就是定义无限列表或不可缺的三个函数,我们通常会把它们封装成一个方法方便Mode层传数据过来刷新ui![[Pasted image 20240207232847.png]]
		7.小地图  
			
 